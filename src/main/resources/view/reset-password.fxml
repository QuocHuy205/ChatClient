<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="vku.chatapp.client.controller.component.ResetPasswordController"
            stylesheets="@../css/styles.css"
            style="-fx-background-color: linear-gradient(to bottom right, #667eea, #764ba2);">

    <center>
        <VBox alignment="CENTER" spacing="20" maxWidth="450" style="-fx-background-color: white; -fx-background-radius: 15; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 20, 0, 0, 5);">
            <padding>
                <Insets top="40" right="40" bottom="40" left="40"/>
            </padding>

            <!-- Header -->
            <VBox alignment="CENTER" spacing="10">
                <Label text="ðŸ”" style="-fx-font-size: 48px;"/>
                <Label text="Äáº·t Láº¡i Máº­t Kháº©u" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #667eea;"/>
                <Label fx:id="emailLabel" text="Email: user@example.com"
                       style="-fx-font-size: 14px; -fx-text-fill: #666;"/>
            </VBox>

            <Separator/>

            <!-- OTP Section -->
            <VBox spacing="10">
                <Label text="MÃ£ xÃ¡c thá»±c OTP" style="-fx-font-weight: bold; -fx-text-fill: #333;"/>
                <Label text="Vui lÃ²ng kiá»ƒm tra email Ä‘á»ƒ láº¥y mÃ£ OTP (cÃ³ hiá»‡u lá»±c 5 phÃºt)"
                       style="-fx-font-size: 12px; -fx-text-fill: #666;" wrapText="true"/>

                <HBox spacing="10" alignment="CENTER">
                    <TextField fx:id="otpField" promptText="Nháº­p mÃ£ OTP 6 sá»‘"
                               maxWidth="200"
                               style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-alignment: center; -fx-pref-height: 45px;"/>
                    <Button fx:id="resendButton" text="Gá»­i láº¡i" onAction="#handleResendOtp"
                            style="-fx-background-color: #6c757d; -fx-text-fill: white; -fx-font-weight: bold; -fx-pref-height: 45px; -fx-cursor: hand;"/>
                </HBox>

                <Label fx:id="timerLabel" text="Báº¡n cÃ³ thá»ƒ gá»­i láº¡i sau: 60s"
                       style="-fx-font-size: 12px; -fx-text-fill: #dc3545; -fx-font-style: italic;"/>
            </VBox>

            <Separator/>

            <!-- Password Section -->
            <VBox spacing="10">
                <Label text="Máº­t kháº©u má»›i" style="-fx-font-weight: bold; -fx-text-fill: #333;"/>
                <PasswordField fx:id="newPasswordField" promptText="Tá»‘i thiá»ƒu 6 kÃ½ tá»±"
                               style="-fx-pref-height: 45px; -fx-font-size: 14px;"/>

                <Label text="XÃ¡c nháº­n máº­t kháº©u" style="-fx-font-weight: bold; -fx-text-fill: #333;"/>
                <PasswordField fx:id="confirmPasswordField" promptText="Nháº­p láº¡i máº­t kháº©u má»›i"
                               style="-fx-pref-height: 45px; -fx-font-size: 14px;"/>
            </VBox>

            <!-- Error/Success Message -->
            <Label fx:id="messageLabel" wrapText="true"
                   style="-fx-font-size: 13px; -fx-padding: 10; -fx-background-radius: 5;"
                   visible="false"/>

            <!-- Action Buttons -->
            <HBox spacing="15" alignment="CENTER">
                <Button fx:id="resetButton" text="Äáº·t Láº¡i Máº­t Kháº©u" onAction="#handleResetPassword"
                        prefWidth="180" prefHeight="45"
                        style="-fx-background-color: linear-gradient(to right, #667eea, #764ba2); -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-background-radius: 25; -fx-cursor: hand;"/>

                <Button text="Quay Láº¡i" onAction="#handleBackToLogin"
                        prefWidth="120" prefHeight="45"
                        style="-fx-background-color: #6c757d; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-background-radius: 25; -fx-cursor: hand;"/>
            </HBox>

            <!-- Tips -->
            <VBox spacing="5" style="-fx-background-color: #e7f3ff; -fx-padding: 15; -fx-background-radius: 8;">
                <Label text="ðŸ’¡ LÆ°u Ã½:" style="-fx-font-weight: bold; -fx-text-fill: #0066cc;"/>
                <Label text="â€¢ Máº­t kháº©u pháº£i cÃ³ Ã­t nháº¥t 6 kÃ½ tá»±" style="-fx-font-size: 12px; -fx-text-fill: #333;"/>
                <Label text="â€¢ NÃªn sá»­ dá»¥ng káº¿t há»£p chá»¯, sá»‘ vÃ  kÃ½ tá»± Ä‘áº·c biá»‡t" style="-fx-font-size: 12px; -fx-text-fill: #333;"/>
                <Label text="â€¢ KhÃ´ng chia sáº» mÃ£ OTP vá»›i báº¥t ká»³ ai" style="-fx-font-size: 12px; -fx-text-fill: #333;"/>
            </VBox>
        </VBox>
    </center>
</BorderPane>